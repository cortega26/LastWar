<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            document.documentElement.setAttribute('data-theme', savedTheme);
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <title>Protein Farm Production Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.5;
            min-height: 100vh;
            transition: all 0.3s ease;
            margin: 0;
            display: flex;
            flex-direction: column;
        }







        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 1rem;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 1.5rem;
            margin-top: 1rem;
        }



        .card-header {
            border-bottom: 1px solid var(--border);
            padding-bottom: 1rem;
            margin-bottom: 1.5rem;
        }


        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text);
            margin: 0;
        }


        .progress-image {
            width: 100%;
            max-width: 500px;
            height: auto;
            border-radius: 8px;
            margin: 0 auto 1.5rem auto;
            display: block;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 2px solid var(--border);
        }


        .target-section {
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }


        .control-label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--text);
            font-size: 0.95rem;
        }


        .control-description {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-bottom: 0.75rem;
            line-height: 1.4;
        }


        .form-input, .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 0.9rem;
            background: var(--card-bg);
            transition: border-color 0.2s ease;
        }


        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .farm-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
        }

        .farm-item {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 1rem;
            transition: all 0.2s ease;
        }


        .farm-item.active {
            border-color: #667eea;
            background: #f8faff;
        }


        .farm-name {
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--text);
            font-size: 0.9rem;
        }


        .production-info {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-top: 0.25rem;
        }



        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border);
        }


        .metric:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .metric-label {
            font-weight: 500;
            color: var(--text);
            font-size: 0.9rem;
        }


        .metric-value {
            font-weight: 600;
            color: #667eea;
            font-size: 0.9rem;
        }


        .time-estimate {
            background: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: 6px;
            padding: 1rem;
            text-align: center;
            margin-top: 1rem;
        }


        .time-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: #0369a1;
            margin-bottom: 0.25rem;
        }


        .time-label {
            color: #64748b;
            font-size: 0.85rem;
        }


        .empty-state {
            text-align: center;
            padding: 1.5rem;
            color: var(--text-light);
        }


        .empty-state-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .disclaimer {
            background: #fffbeb;
            border: 1px solid #fcd34d;
            border-left: 4px solid #f59e0b;
            border-radius: 6px;
            padding: 1rem;
            margin-top: 1rem;
            font-size: 0.85rem;
            color: #92400e;
        }


        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            
            .farm-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 0.75rem;
            }


        }

        @media (max-width: 480px) {
            
            .container {
                padding: 0.5rem;
            }
        }

    </style>
</head>
<body>
    <header class="site-header">
        <div id="nav-placeholder"></div>
    </header>
    <div class="toggle-container container">
        <span class="toggle-label">Dark Mode</span>
        <div class="theme-toggle" id="themeToggle" role="button" aria-pressed="false" tabindex="0">
            <div class="toggle-thumb"></div>
        </div>
    </div>
    
    <div class="header">
        <h1>Protein Farm Production Calculator</h1>
        <p>Calculate production time for Virus Research Institute upgrades</p>
    </div>

    <div class="container">
        <div class="main-content">
            <div class="input-section">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Farm Configuration</h2>
                    </div>

                    <img src="../assets/images/mip.png" alt="Immune Protein Progress" class="progress-image" />

                    <div class="target-section">
                        <label class="control-label">Missing Immune Protein for Next Upgrade</label>
                        <div class="control-description">
                            Enter the amount shown in red letters on your progress bar. This represents how much immune protein you still need to collect for your next upgrade.
                        </div>
                        <input 
                            type="number" 
                            id="targetAmount" 
                            class="form-input" 
                            placeholder="Enter the red number from your progress bar"
                            min="1"
                        />
                    </div>

                    <div class="farm-grid">
                        <div class="farm-item" id="farm1-container">
                            <div class="farm-name">Protein Farm I</div>
                            <select id="farm1" class="form-select">
                                <!-- Options populated by JavaScript -->
                            </select>
                            <div class="production-info" id="farm1-info"></div>
                        </div>

                        <div class="farm-item" id="farm2-container">
                            <div class="farm-name">Protein Farm II</div>
                            <select id="farm2" class="form-select">
                                <option value="0">Not Built</option>
                                <!-- Options populated by JavaScript -->
                            </select>
                            <div class="production-info" id="farm2-info"></div>
                        </div>

                        <div class="farm-item" id="farm3-container">
                            <div class="farm-name">Protein Farm III</div>
                            <select id="farm3" class="form-select">
                                <option value="0">Not Built</option>
                                <!-- Options populated by JavaScript -->
                            </select>
                            <div class="production-info" id="farm3-info"></div>
                        </div>

                        <div class="farm-item" id="farm4-container">
                            <div class="farm-name">Protein Farm IV</div>
                            <select id="farm4" class="form-select">
                                <option value="0">Not Built</option>
                                <!-- Options populated by JavaScript -->
                            </select>
                            <div class="production-info" id="farm4-info"></div>
                        </div>

                        <div class="farm-item" id="farm5-container">
                            <div class="farm-name">Protein Farm V</div>
                            <select id="farm5" class="form-select">
                                <option value="0">Not Built</option>
                                <!-- Options populated by JavaScript -->
                            </select>
                            <div class="production-info" id="farm5-info"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="results-section">
                <div class="results-panel">
                    <div class="results-header">
                        Production Analysis
                    </div>
                    <div class="results-content" id="results-content">
                        <div class="empty-state">
                            <div class="empty-state-icon">📊</div>
                            <p>Configure your farms and enter target amount</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="disclaimer">
            <strong>Note:</strong> This calculation is based solely on protein farm production. The estimated time does not include proteins from mines, zombie hunting, events, or any other sources that could reduce the actual time required.
        </div>
    </div>

    <div id="footer-placeholder"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="../script.js"></script>
</body>
</html>
