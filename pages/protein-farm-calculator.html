<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="../assets/js/theme.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&amp;family=Open+Sans:wght@400;600&amp;display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="../assets/css/styles.css" />
  <link rel="stylesheet" href="../assets/css/protein-farm-calculator.css" />
  <meta name="description" content="Calculate time needed to gather immune proteins in Last War: Survival." />
  <link rel="canonical" href="https://tooltician.com/pages/protein-farm-calculator.html">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://www.googletagmanager.com https://www.google-analytics.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data:; font-src 'self' https://fonts.gstatic.com data:; connect-src 'self' https://www.google-analytics.com; base-uri 'self'; form-action 'self'; frame-ancestors 'none';" />
  <title>Protein Farm Production Calculator</title>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TV9L6C3VN7"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-TV9L6C3VN7');
  </script>

</head>

<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
  <header class="site-header">
    <div id="nav-placeholder"></div>
  </header>

  <div class="header">
    <h1>Protein Farm Production Calculator</h1>
    <p>Calculate production time for Virus Research Institute upgrades</p>
  </div>

  <main class="container content" role="main" id="main-content">
    <div class="main-content">
      <div class="input-section">
        <div class="card">
          <div class="card-header">
            <h2 class="card-title">Farm Configuration</h2>
          </div>

          <img src="../assets/images/mip.png" alt="Immune Protein Progress" class="progress-image" loading="lazy" />

          <form id="proteinFarmForm" novalidate>
          <div class="target-section">
            <label class="control-label">Missing Immune Protein for Next Upgrade</label>
            <div class="control-description">
              Enter the amount shown in red letters on your progress bar. This
              represents how much immune protein you still need to collect for
              your next upgrade.
            </div>
            <input type="number" id="targetAmount" class="form-input" data-validate required
              placeholder="Enter the red number from your progress bar" min="1" aria-describedby="targetAmountError" />
            <div class="error-message" id="targetAmountError" aria-live="polite"></div>
          </div>

          <div class="farm-grid">
            <div class="farm-item" id="farm1-container">
              <div class="farm-name">Protein Farm I</div>
              <select id="farm1" class="form-select">
                <!-- Options populated by JavaScript -->
              </select>
              <div class="production-info" id="farm1-info"></div>
            </div>

            <div class="farm-item" id="farm2-container">
              <div class="farm-name">Protein Farm II</div>
              <select id="farm2" class="form-select">
                <option value="0">Not Built</option>
                <!-- Options populated by JavaScript -->
              </select>
              <div class="production-info" id="farm2-info"></div>
            </div>

            <div class="farm-item" id="farm3-container">
              <div class="farm-name">Protein Farm III</div>
              <select id="farm3" class="form-select">
                <option value="0">Not Built</option>
                <!-- Options populated by JavaScript -->
              </select>
              <div class="production-info" id="farm3-info"></div>
            </div>

            <div class="farm-item" id="farm4-container">
              <div class="farm-name">Protein Farm IV</div>
              <select id="farm4" class="form-select">
                <option value="0">Not Built</option>
                <!-- Options populated by JavaScript -->
              </select>
              <div class="production-info" id="farm4-info"></div>
            </div>

            <div class="farm-item" id="farm5-container">
              <div class="farm-name">Protein Farm V</div>
              <select id="farm5" class="form-select">
                <option value="0">Not Built</option>
                <!-- Options populated by JavaScript -->
              </select>
              <div class="production-info" id="farm5-info"></div>
            </div>
          </div>
          <button type="submit" id="calculateBtn">Calculate</button>
          </form>
        </div>
      </div>

      <div class="results-section">
        <div class="results-panel">
          <div class="results-header">Production Analysis</div>
          <div class="results-content" id="results-content">
            <div class="empty-state">
              <div class="empty-state-icon">ðŸ“Š</div>
              <p>Configure your farms and enter target amount</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="disclaimer">
      <strong>Note:</strong> This calculation is based solely on protein farm
      production. The estimated time does not include proteins from mines,
      zombie hunting, events, or any other sources that could reduce the
      actual time required.
    </div>
  </main>

  <div id="footer-placeholder"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="../assets/js/validate.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      attachValidation(document.getElementById('proteinFarmForm'));
    });
  </script>
  <script src="../assets/js/storage-utils.js"></script>
  <script src="../assets/js/script.js"></script>
  <script type="module">
    import('../assets/js/calculator-utils.js').then(() =>
      import('../assets/js/protein-calculator.js')
    );
  </script>
  <script src="../assets/js/analytics.js"></script>
</body>

</html>